import matplotlib.pyplot as plt
from scipy.stats import binom

# 한글 폰트 설정
plt.rc('font', family='Malgun Gothic')  # Windows
# plt.rc('font', family='AppleGothic')  # macOS
plt.rc('axes', unicode_minus=False)

# 매개변수
n = 20  # 검사한 제품 수
p = 0.1  # 제품 하나가 불량일 확률

# 이항 분포 확률 질량 함수
x = range(n + 1)
pmf = binom.pmf(x, n, p)

print(pmf)

# 시각화
plt.bar(x, pmf, color='skyblue')
plt.title("이항 분포: 20개 제품 중 불량품 개수")
plt.xlabel("불량품 개수")
plt.ylabel("확률")
plt.show()

"""
========== 문제 ==========

어떤 전자제품 제조회사에서 생산되는 제품의 불량률이 10%라고 알려져 있습니다.
품질관리팀에서 무작위로 20개의 제품을 검사했을 때의 상황을 이항분포를 이용하여 분석해보세요.

문제 1: 이항분포란 무엇인가요? 이 상황에서 이항분포가 적합한 이유를 설명하세요.
   (힌트: 베르누이 시행의 조건을 생각해보세요)

문제 2: 위 코드를 실행했을 때 나타나는 확률질량함수 그래프를 분석해보세요.
   - 가장 높은 확률을 갖는 불량품 개수는 몇 개인가요?
   - 불량품이 3개 이상 나올 확률은 얼마인가요?

문제 3: 다음 확률들을 계산해보세요:
   - 불량품이 정확히 2개 나올 확률
   - 불량품이 1개 이하로 나올 확률  
   - 불량품이 5개 이상 나올 확률

문제 4: 이항분포의 기댓값과 분산을 이론적으로 계산하고, 
   실제 시뮬레이션을 통해 확인해보세요.
   (이론값: E(X) = np, Var(X) = np(1-p))

문제 5: 만약 검사하는 제품 수를 50개로 늘린다면:
   - 불량품의 기댓값은 어떻게 변할까요?
   - 확률분포의 모양은 어떻게 달라질까요?
   - 코드를 수정하여 비교 그래프를 그려보세요.

문제 6: 불량률이 5%로 개선되었다면:
   - 20개 제품 중 불량품이 0개일 확률은?
   - 불량품이 2개 이상 나올 확률은?
   - 품질 개선의 효과를 시각적으로 비교해보세요.

문제 7: 실제 품질관리 상황에서 이러한 이항분포 분석을 어떻게 활용할 수 있는지
   구체적인 예시 3가지를 제시하세요.

=============================
"""
